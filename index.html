<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Vendas e Gest√£o - Embalagens Conceito</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#78350f', // amber-900
                        accent:  '#f59e0b', // amber-500
                    }
                }
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 700px; margin: 0 auto; height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .admin-only { display: none; }
        .task-item.completed { text-decoration: line-through; opacity: 0.6; }
        .pipeline-list.drag-over { background-color: #fef3c7; border: 2px dashed #f59e0b; }
        .tab-button.active, .role-view-btn.active {
            border-color: #78350f;
            color: #78350f;
            font-weight: 600;
            background-color: #fefce8;
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <header class="bg-white/80 backdrop-blur sticky top-0 z-50 shadow">
        <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
            <h1 class="text-2xl font-bold text-primary">Embalagens Conceito</h1>
            <nav class="hidden md:flex space-x-6">
                <a href="#campanhas" class="text-stone-600 hover:text-primary transition">Campanhas</a>
                <a href="#processo-comercial" class="text-stone-600 hover:text-primary transition">Processo</a>
                <a href="#registro-diario" class="text-stone-600 hover:text-primary transition">Registros</a>
                <a href="#painel-operacional" class="text-stone-600 hover:text-primary transition">Operacional</a>
                <a href="#funcoes" class="text-stone-600 hover:text-primary transition">Fun√ß√µes</a>
                <a href="#recursos" class="text-stone-600 hover:text-primary transition">Recursos</a>
                <a href="#produtividade" class="text-stone-600 hover:text-primary transition">Produtividade</a>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 sm:p-6 space-y-16">
        <!-- ... suas se√ß√µes originais (missao, campanhas, processo-comercial, registro-diario, painel-operacional, funcoes, recursos) ... -->

        <!-- === NOVA SE√á√ÉO: PRODUTIVIDADE & GAMIFICA√á√ÉO === -->
        <section id="produtividade" class="space-y-6 scroll-mt-20" data-role="all">
          <div class="text-center mb-8">
            <h3 class="text-3xl font-semibold text-primary">Produtividade & Automa√ß√£o<br>Gamifica√ß√£o & Motiva√ß√£o</h3>
            <p class="text-stone-600">Acesso r√°pido a templates, recursos e ranking, separados por papel.</p>
          </div>

          <!-- Abas de papel -->
          <div class="flex justify-center space-x-4 mb-6">
            <button class="prod-role-tab px-4 py-2 rounded-md border-b-2 border-primary font-semibold active" data-role="sdr">SDR</button>
            <button class="prod-role-tab px-4 py-2 rounded-md border-b-2 border-transparent hover:border-primary font-semibold" data-role="vendedor">Vendedor</button>
          </div>

          <!-- Conte√∫do SDR -->
          <div id="bloc-sdr" class="prod-role-content">
            <!-- sub-abas SDR -->
            <div class="flex justify-center space-x-4 mb-4">
              <button class="sdr-sub-tab px-3 py-1 rounded-md bg-primary/10 active" data-target="sdr-templates">Templates</button>
              <button class="sdr-sub-tab px-3 py-1 rounded-md bg-primary/10" data-target="sdr-recursos">Recursos</button>
              <button class="sdr-sub-tab px-3 py-1 rounded-md bg-primary/10" data-target="sdr-gamificacao">Gamifica√ß√£o</button>
            </div>
            <div id="sdr-templates"   class="space-y-4"></div>
            <div id="sdr-recursos"    class="space-y-4 hidden"></div>
            <div id="sdr-gamificacao" class="space-y-4 hidden"></div>
          </div>

          <!-- Conte√∫do Vendedor -->
          <div id="bloc-vendedor" class="prod-role-content hidden">
            <!-- sub-abas Vendedor -->
            <div class="flex justify-center space-x-4 mb-4">
              <button class="vend-sub-tab px-3 py-1 rounded-md bg-primary/10 active" data-target="vend-templates">Templates</button>
              <button class="vend-sub-tab px-3 py-1 rounded-md bg-primary/10" data-target="vend-recursos">Recursos</button>
              <button class="vend-sub-tab px-3 py-1 rounded-md bg-primary/10" data-target="vend-gamificacao">Gamifica√ß√£o</button>
            </div>
            <div id="vend-templates"   class="space-y-4"></div>
            <div id="vend-recursos"    class="space-y-4 hidden"></div>
            <div id="vend-gamificacao" class="space-y-4 hidden"></div>
          </div>
        </section>
    </main>

    <footer class="bg-stone-800 text-white py-4 text-center">
        <p>¬© 2025 Embalagens Conceito. Todos os direitos reservados.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // === SEED LOCALSTORAGE PARA NOVAS COLE√á√ïES ===
      const defaultTemplates = [
        { role:'sdr',     stage:'Prospec√ß√£o',    type:'email',    title:'Email de Prospec√ß√£o',         content:'Ol√° {{nome}}, gostar√≠amos de apresentar...' },
        { role:'sdr',     stage:'Qualifica√ß√£o',   type:'whatsapp', title:'WhatsApp de Qualifica√ß√£o',     content:'Oi {{nome}}, tudo bem? Segue cat√°logo...' },
        { role:'vendedor',stage:'Proposta',       type:'proposta', title:'Proposta Padr√£o',             content:'Prezado {{nome}}, segue em anexo nossa proposta...' }
      ];
      const defaultResourcesSdr = [
        { title:'Obje√ß√µes Comuns' },
        { title:'Scripts de Liga√ß√£o' },
        { title:'Ficha de Qualifica√ß√£o de Lead' }
      ];
      const defaultResourcesVend = [
        { title:'SPIN Selling' },
        { title:'T√°ticas de Negocia√ß√£o Avan√ßada' },
        { title:'An√°lise de Perfil de Comprador' }
      ];
      const defaultBadges = [
        { name:'Top Prospector',       icon:'üîç', role:'sdr' },
        { name:'Fechador MVP',         icon:'üèÜ', role:'vendedor' },
        { name:'Guru de Templates',    icon:'üìö', role:'sdr' }
      ];
      const defaultUsers = [
        { name:'Alice SDR',      points:200, role:'sdr' },
        { name:'Bruno Vendedor', points:150, role:'vendedor' },
        { name:'Carla SDR',      points:120, role:'sdr' }
      ];

      // Seed apenas uma vez
      if (!localStorage.getItem('salesTemplates')) {
        localStorage.setItem('salesTemplates', JSON.stringify(defaultTemplates));
        localStorage.setItem('resourcesSdr',     JSON.stringify(defaultResourcesSdr));
        localStorage.setItem('resourcesVend',    JSON.stringify(defaultResourcesVend));
        localStorage.setItem('salesBadges',      JSON.stringify(defaultBadges));
        localStorage.setItem('salesUsers',       JSON.stringify(defaultUsers));
      }

      // Carrega cole√ß√µes
      let templates     = JSON.parse(localStorage.getItem('salesTemplates'));
      let resourcesSdr  = JSON.parse(localStorage.getItem('resourcesSdr'));
      let resourcesVend = JSON.parse(localStorage.getItem('resourcesVend'));
      let badges        = JSON.parse(localStorage.getItem('salesBadges'));
      let users         = JSON.parse(localStorage.getItem('salesUsers'));

      // === FUN√á√ïES DE RENDERIZA√á√ÉO ===
      function renderTemplates(role) {
        const cont = document.getElementById(`${role}-templates`);
        cont.innerHTML = templates
          .filter(t=>t.role===role)
          .map(t=>`
            <div class="bg-white p-4 rounded-lg shadow">
              <h4 class="font-bold text-primary">${t.title}</h4>
              <p class="text-sm text-stone-700">${t.content}</p>
              <p class="mt-1 text-xs text-stone-500">${t.type} ‚Ä¢ ${t.stage}</p>
            </div>`
          ).join('');
      }

      function renderResources(role) {
        const arr = role==='sdr'? resourcesSdr : resourcesVend;
        const cont = document.getElementById(`${role}-recursos`);
        cont.innerHTML = arr.map(r=>`
          <div class="bg-white p-3 rounded-lg shadow flex items-center gap-3">
            <svg class="w-6 h-6 text-accent"><use href="#icon-doc"/></svg>
            <span class="font-medium">${r.title}</span>
          </div>
        `).join('');
      }

      function renderGamificacao(role) {
        const cont = document.getElementById(`${role}-gamificacao`);
        // badges
        const badHTML = badges
          .filter(b=>b.role===role)
          .map(b=>`
            <div class="bg-accent/20 p-2 rounded-md flex items-center gap-2">
              <span class="text-xl">${b.icon}</span><span>${b.name}</span>
            </div>`
          ).join('');
        // leaderboard
        const listUsers = users
          .filter(u=>u.role===role)
          .sort((a,b)=>b.points - a.points)
          .map(u=>`<li>${u.name} ‚Äî ${u.points} pts</li>`)
          .join('');
        cont.innerHTML = `
          <div class="flex flex-wrap gap-4">${badHTML}</div>
          <div class="mt-6 bg-white p-4 rounded-lg shadow">
            <h5 class="font-semibold mb-2 text-primary">Ranking ${role.toUpperCase()}</h5>
            <ol class="list-decimal list-inside space-y-1">${listUsers}</ol>
          </div>`;
      }

      // === INIT RENDERS ===
      renderTemplates('sdr');
      renderResources('sdr');
      renderGamificacao('sdr');
      renderTemplates('vendedor');
      renderResources('vendedor');
      renderGamificacao('vendedor');

      // === L√ìGICA DE ABAS ===
      // papel principal
      document.querySelectorAll('.prod-role-tab').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const role = btn.dataset.role;
          document.querySelectorAll('.prod-role-tab').forEach(b=>b.classList.remove('active','border-primary'));
          btn.classList.add('active','border-primary');
          document.querySelectorAll('.prod-role-content').forEach(c=>c.classList.add('hidden'));
          document.getElementById(`bloc-${role}`).classList.remove('hidden');
        });
      });
      // sub-abas SDR
      document.querySelectorAll('.sdr-sub-tab').forEach(btn=>{
        btn.addEventListener('click',()=>{
          document.querySelectorAll('.sdr-sub-tab').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('#bloc-sdr > div[id^="sdr-"]').forEach(c=>c.classList.add('hidden'));
          document.getElementById(btn.dataset.target).classList.remove('hidden');
        });
      });
      // sub-abas VENDEDOR
      document.querySelectorAll('.vend-sub-tab').forEach(btn=>{
        btn.addEventListener('click',()=>{
          document.querySelectorAll('.vend-sub-tab').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('#bloc-vendedor > div[id^="vend-"]').forEach(c=>c.classList.add('hidden'));
          document.getElementById(btn.dataset.target).classList.remove('hidden');
        });
      });

      // === √≠cone gen√©rico para docs ===
      const svgNS = "http://www.w3.org/2000/svg";
      if (!document.getElementById('icon-doc')) {
        const svg = document.createElementNS(svgNS,'svg');
        svg.style.display='none';
        svg.innerHTML = `
          <symbol id="icon-doc" viewBox="0 0 24 24">
            <path fill="currentColor" d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
          </symbol>`;
        document.body.appendChild(svg);
      }
    });
    </script>
</body>
</html>
