<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Vendas e Gest√£o - Embalagens Conceito</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .tab-button.active {
            border-color: #78350f;
            color: #78350f;
            font-weight: 600;
        }
        .admin-only {
            display: none;
        }
        .task-item.completed {
            text-decoration: line-through;
            opacity: 0.6;
        }
        .pipeline-list.drag-over {
            background-color: #f5f5f4; /* bg-stone-200 */
            border: 2px dashed #d6d3d1; /* border-stone-300 */
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40 shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                     <span class="text-xl font-bold text-amber-900">Embalagens Conceito</span>
                </div>
                <nav class="hidden md:flex md:space-x-6 lg:space-x-8">
                    <a href="#campanhas" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Campanhas</a>
                    <a href="#registro-diario" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Registro Di√°rio</a>
                    <a href="#painel-operacional" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Painel Operacional</a>
                    <a href="#funcoes" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Fun√ß√µes</a>
                    <a href="#funil" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Funil</a>
                    <a href="#recursos" class="text-sm font-medium text-stone-600 hover:text-amber-900 transition-colors">Recursos</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <section id="missao" class="text-center mb-20 scroll-mt-20">
            <h1 class="text-4xl md:text-5xl font-bold text-amber-900 tracking-tight">Plataforma de Vendas e Gest√£o</h1>
            <p class="mt-4 max-w-3xl mx-auto text-lg text-stone-600">Sua ferramenta di√°ria para registro de atividades, acompanhamento de metas e consulta de materiais na Embalagens Conceito.</p>
        </section>
        
        <section id="campanhas" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">Campanhas e Metas Ativas</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Foco da equipe para a semana/m√™s. Consulte aqui as estrat√©gias e metas vigentes.</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200 space-y-8">
                <div>
                    <h3 class="text-xl font-bold text-amber-900 mb-4">üì¢ Campanha Atual</h3>
                    <div id="campaign-display" class="p-6 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg">
                        <!-- Campaign content will be loaded here -->
                    </div>
                    <div id="admin-campaign-form" class="admin-only mt-4 p-4 border-t border-stone-200">
                        <h4 class="font-bold mb-2">Definir Nova Campanha (Admin)</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                             <input type="text" id="campaign-title" placeholder="T√≠tulo da Campanha" class="p-2 border rounded-lg">
                             <input type="text" id="campaign-duration" placeholder="Dura√ß√£o (ex: 01/07 a 07/07)" class="p-2 border rounded-lg">
                        </div>
                        <textarea id="campaign-strategy" placeholder="Descreva a estrat√©gia, regras e foco da campanha..." rows="3" class="w-full mt-4 p-2 border rounded-lg"></textarea>
                        <div class="flex flex-col sm:flex-row gap-2 mt-2">
                            <button id="save-campaign-btn" class="flex-1 bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900">Salvar Campanha</button>
                            <button id="edit-campaign-btn" class="flex-1 bg-stone-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-stone-600">Editar Atual</button>
                            <button id="delete-campaign-btn" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-600">Excluir</button>
                        </div>
                    </div>
                </div>
                 <div>
                    <h3 class="text-xl font-bold text-amber-900 mb-4">üéØ Metas da Equipe</h3>
                    <div id="goals-display" class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                       <!-- Goals content will be loaded here -->
                    </div>
                     <div id="admin-goals-form" class="admin-only mt-4 p-4 border-t border-stone-200">
                        <h4 class="font-bold mb-2">Definir Metas da Equipe (Admin)</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                             <input type="number" id="goal-vendas" placeholder="Meta de Vendas (R$)" class="p-2 border rounded-lg">
                             <input type="number" id="goal-leads" placeholder="Meta Leads Qualificados" class="p-2 border rounded-lg">
                             <input type="number" id="goal-reativacoes" placeholder="Meta Reativa√ß√µes" class="p-2 border rounded-lg">
                             <input type="text" id="goal-custom" placeholder="Outra Meta (ex: 10 Novos Clientes)" class="p-2 border rounded-lg">
                        </div>
                        <div class="flex flex-col sm:flex-row gap-2 mt-4">
                            <button id="save-goals-btn" class="flex-1 bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900">Salvar Metas</button>
                            <button id="edit-goals-btn" class="flex-1 bg-stone-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-stone-600">Editar Atuais</button>
                            <button id="delete-goals-btn" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-600">Excluir</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="registro-diario" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">Painel de Registros Di√°rios</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Registre suas atividades e resultados di√°rios para uma gest√£o eficiente. Os dados s√£o salvos localmente no seu navegador.</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                <div class="border-b border-stone-200 mb-6">
                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                        <button class="tab-button daily-log-tab active" data-target="sdr-log-tool">üìù Registro SDR</button>
                        <button class="tab-button daily-log-tab" data-target="vendedor-log-tool">üìä Registro Vendedor</button>
                    </nav>
                </div>
                
                <div id="sdr-log-tool" class="daily-log-content">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-amber-900">Registro de Atividades do SDR</h3>
                        <button id="clear-sdr-log-btn" class="admin-only text-xs bg-red-500 text-white font-semibold py-1 px-3 rounded-lg hover:bg-red-600 transition-colors">Limpar Hist√≥rico SDR</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <input type="number" id="sdr-prospeccoes" placeholder="N¬∫ Prospec√ß√µes" class="p-2 border rounded-lg">
                        <input type="number" id="sdr-nutricoes" placeholder="N¬∫ Leads Nutridos" class="p-2 border rounded-lg">
                    </div>
                    <textarea id="sdr-resumo" placeholder="Resumo das atividades e insights do dia..." rows="3" class="w-full p-2 border rounded-lg mb-4"></textarea>
                    <button id="add-sdr-log-btn" class="w-full bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900 transition-colors">Registrar Atividades do Dia</button>
                    
                    <hr class="my-6">
                    <h4 class="text-lg font-bold mb-4">Hist√≥rico de Atividades - SDR</h4>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white text-sm">
                            <thead class="bg-stone-100">
                                <tr>
                                    <th class="py-2 px-4 text-left">Data</th>
                                    <th class="py-2 px-4 text-left">Prospec√ß√µes</th>
                                    <th class="py-2 px-4 text-left">Nutridos</th>
                                    <th class="py-2 px-4 text-left">Resumo</th>
                                    <th class="py-2 px-4 text-left admin-only">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="sdr-log-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="vendedor-log-tool" class="daily-log-content hidden">
                     <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-amber-900">Registro de Resultados do Vendedor</h3>
                        <button id="clear-vendedor-log-btn" class="admin-only text-xs bg-red-500 text-white font-semibold py-1 px-3 rounded-lg hover:bg-red-600 transition-colors">Limpar Hist√≥rico Vendedor</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <input type="number" id="vendedor-vendas" placeholder="N¬∫ Vendas Fechadas" class="p-2 border rounded-lg">
                        <input type="number" id="vendedor-conversoes" placeholder="N¬∫ Leads Convertidos" class="p-2 border rounded-lg">
                        <input type="number" id="vendedor-reativacoes" placeholder="N¬∫ Clientes Reativados" class="p-2 border rounded-lg">
                    </div>
                    <textarea id="vendedor-notas" placeholder="Notas importantes, vendas chave, feedbacks de clientes..." rows="3" class="w-full p-2 border rounded-lg mb-4"></textarea>
                    <button id="add-vendedor-log-btn" class="w-full bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900 transition-colors">Registrar Resultados do Dia</button>

                    <hr class="my-6">
                    <h4 class="text-lg font-bold mb-4">Hist√≥rico de Resultados - Vendedor</h4>
                     <div class="overflow-x-auto">
                        <table class="min-w-full bg-white text-sm">
                            <thead class="bg-stone-100">
                                <tr>
                                    <th class="py-2 px-4 text-left">Data</th>
                                    <th class="py-2 px-4 text-left">Vendas</th>
                                    <th class="py-2 px-4 text-left">Convers√µes</th>
                                    <th class="py-2 px-4 text-left">Reativa√ß√µes</th>
                                    <th class="py-2 px-4 text-left">Notas</th>
                                    <th class="py-2 px-4 text-left admin-only">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="vendedor-log-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="painel-operacional" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">Painel Operacional Di√°rio</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Organize suas tarefas, pipeline de clientes e fa√ßa c√°lculos r√°pidos aqui. Os dados s√£o salvos automaticamente.</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                <div class="border-b border-stone-200 mb-6">
                    <nav class="-mb-px flex flex-wrap space-x-6" aria-label="Tabs">
                        <button class="tab-button operational-tab active" data-target="sdr-task-tool">üìã Tarefas do SDR</button>
                        <button class="tab-button operational-tab" data-target="vendedor-pipeline-tool">üóÇÔ∏è Pipeline do Vendedor</button>
                        <button class="tab-button operational-tab" data-target="calculadora-tool">üßÆ Calculadora de Vendas</button>
                        <button class="tab-button operational-tab" data-target="competitor-tool">üì° Registro de Concorrentes</button>
                    </nav>
                </div>

                <div id="sdr-task-tool" class="operational-content">
                    <h3 class="text-xl font-bold text-amber-900 mb-4">Lista de Tarefas do Dia (SDR)</h3>
                    <div class="flex gap-4 mb-4">
                        <input type="text" id="new-task-input" placeholder="Adicionar nova tarefa..." class="flex-grow p-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-800 focus:outline-none">
                        <button id="add-task-btn" class="bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900 transition-colors">Adicionar</button>
                    </div>
                    <div id="task-list" class="space-y-2"></div>
                </div>
                
                <div id="vendedor-pipeline-tool" class="operational-content hidden">
                    <h3 class="text-xl font-bold text-amber-900 mb-4">Pipeline de Vendas (Kanban)</h3>
                     <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                        <div class="bg-stone-100 p-4 rounded-lg min-h-[200px] pipeline-list" data-stage="qualificado">
                            <h4 class="font-bold text-center mb-2 pointer-events-none">Qualificado</h4>
                        </div>
                        <div class="bg-stone-100 p-4 rounded-lg min-h-[200px] pipeline-list" data-stage="proposta">
                            <h4 class="font-bold text-center mb-2 pointer-events-none">Proposta</h4>
                        </div>
                        <div class="bg-stone-100 p-4 rounded-lg min-h-[200px] pipeline-list" data-stage="negociacao">
                             <h4 class="font-bold text-center mb-2 pointer-events-none">Negocia√ß√£o</h4>
                        </div>
                        <div class="bg-green-100 p-4 rounded-lg min-h-[200px] pipeline-list" data-stage="fechado">
                            <h4 class="font-bold text-green-800 text-center mb-2 pointer-events-none">Fechado</h4>
                        </div>
                        <div class="bg-red-100 p-4 rounded-lg min-h-[200px] pipeline-list" data-stage="perdido">
                            <h4 class="font-bold text-red-800 text-center mb-2 pointer-events-none">Perdido</h4>
                        </div>
                    </div>
                    <div class="mt-4 flex gap-4">
                         <input type="text" id="new-deal-input" placeholder="Nome do novo cliente/lead..." class="flex-grow p-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-800 focus:outline-none">
                        <button id="add-deal-btn" class="bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900 transition-colors">Adicionar ao Pipeline</button>
                    </div>
                </div>

                <div id="calculadora-tool" class="operational-content hidden">
                    <h3 class="text-xl font-bold text-amber-900 mb-4">Calculadora R√°pida de Vendas</h3>
                    <div id="sales-calculator" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4">
                        <div class="space-y-4">
                             <div>
                                <label for="calc-preco" class="font-semibold">Pre√ßo Original (R$)</label>
                                <input type="number" id="calc-preco" placeholder="100,00" class="w-full mt-1 p-2 border rounded-lg">
                            </div>
                            <div>
                                <label for="calc-desconto" class="font-semibold">Desconto (%)</label>
                                <input type="number" id="calc-desconto" placeholder="10" class="w-full mt-1 p-2 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-stone-100 rounded-lg flex flex-col justify-center">
                            <div class="text-center">
                                <p class="text-stone-600">Pre√ßo Final:</p>
                                <p id="calc-final" class="text-3xl font-bold text-amber-900">R$ 0,00</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="competitor-tool" class="operational-content hidden">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-amber-900">Registro de Intelig√™ncia Competitiva</h3>
                        <button id="clear-competitor-log-btn" class="admin-only text-xs bg-red-500 text-white font-semibold py-1 px-3 rounded-lg hover:bg-red-600 transition-colors">Limpar Hist√≥rico</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <input type="text" id="competitor-name" placeholder="Nome do Concorrente" class="p-2 border rounded-lg">
                        <input type="text" id="competitor-strength" placeholder="Ponto Forte" class="p-2 border rounded-lg">
                        <input type="text" id="competitor-weakness" placeholder="Ponto Fraco" class="p-2 border rounded-lg">
                    </div>
                    <textarea id="competitor-notes" placeholder="Outras observa√ß√µes, pre√ßos, estrat√©gias..." rows="3" class="w-full p-2 border rounded-lg mb-4"></textarea>
                    <button id="add-competitor-btn" class="w-full bg-amber-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-amber-900 transition-colors">Adicionar Concorrente</button>
                    
                    <hr class="my-6">
                    <h4 class="text-lg font-bold mb-4">Concorrentes Mapeados</h4>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white text-sm">
                            <thead class="bg-stone-100">
                                <tr>
                                    <th class="py-2 px-4 text-left">Concorrente</th>
                                    <th class="py-2 px-4 text-left">Ponto Forte</th>
                                    <th class="py-2 px-4 text-left">Ponto Fraco</th>
                                    <th class="py-2 px-4 text-left">Observa√ß√µes</th>
                                    <th class="py-2 px-4 text-left admin-only">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="competitor-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="funcoes" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">As Fun√ß√µes: SDR vs. Vendedor</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Cada papel √© fundamental para o nosso sucesso. Entender claramente as responsabilidades de cada um √© o primeiro passo para uma colabora√ß√£o eficiente.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                    <h3 class="text-2xl font-bold text-amber-900">SDR (Sales Development Rep)</h3>
                    <p class="mt-2 text-stone-600 font-medium">O pr√©-vendedor focado em prospec√ß√£o e qualifica√ß√£o de leads.</p>
                    <div id="sdr-tasks-accordion" class="mt-4 space-y-2">
                        <div class="accordion-item">
                            <button class="accordion-header w-full text-left font-semibold p-3 bg-stone-100 rounded-lg flex justify-between items-center hover:bg-stone-200 transition-colors">
                                Principais Responsabilidades
                                <span class="accordion-icon transform rotate-0 transition-transform text-amber-900">‚ñº</span>
                            </button>
                            <div class="accordion-content hidden p-3">
                                <ul class="list-disc list-inside text-stone-600 space-y-1">
                                    <li>Prospec√ß√£o Ativa: Identificar e contatar prospects.</li>
                                    <li>Primeiro Contato: Despertar interesse e criar relacionamento.</li>
                                    <li>Gest√£o de CRM: Manter dados e intera√ß√µes atualizadas.</li>
                                    <li>Follow-up: Nutrir leads at√© estarem prontos.</li>
                                    <li>Qualificar clientes para o vendedor.</li>
                                </ul>
                            </div>
                        </div>
                         <div class="accordion-item">
                            <button class="accordion-header w-full text-left font-semibold p-3 bg-stone-100 rounded-lg flex justify-between items-center hover:bg-stone-200 transition-colors">
                                Plano Di√°rio de Atividades (Metas)
                                <span class="accordion-icon transform rotate-0 transition-transform text-amber-900">‚ñº</span>
                            </button>
                            <div class="accordion-content hidden p-3">
                                <ul class="list-disc list-inside text-stone-600 space-y-1">
                                    <li>Preparar lista de leads (30+).</li>
                                    <li>Pesquisar novos contatos (10).</li>
                                    <li>Liga√ß√µes r√°pidas de qualifica√ß√£o (10).</li>
                                    <li>Follow-up com interessados (10).</li>
                                    <li>Prospec√ß√£o via WhatsApp (20).</li>
                                    <li>Envio de cat√°logos/promo√ß√µes (15).</li>
                                    <li>Agendar reuni√µes para o vendedor (2-3).</li>
                                    <li>Registrar tudo no CRM.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                    <h3 class="text-2xl font-bold text-amber-900">Vendedor (Fechador)</h3>
                    <p class="mt-2 text-stone-600 font-medium">Pega os clientes qualificados pelo SDR e fecha a venda.</p>
                     <div id="vendedor-tasks-accordion" class="mt-4 space-y-2">
                        <div class="accordion-item">
                            <button class="accordion-header w-full text-left font-semibold p-3 bg-stone-100 rounded-lg flex justify-between items-center hover:bg-stone-200 transition-colors">
                                Principais Responsabilidades
                                <span class="accordion-icon transform rotate-0 transition-transform text-amber-900">‚ñº</span>
                            </button>
                            <div class="accordion-content hidden p-3">
                                <ul class="list-disc list-inside text-stone-600 space-y-1">
                                    <li>Apresentar produtos detalhadamente.</li>
                                    <li>Elaborar propostas personalizadas.</li>
                                    <li>Negociar pre√ßos e condi√ß√µes comerciais.</li>
                                    <li>Fechar a venda e emitir o pedido.</li>
                                    <li>Cuidar do p√≥s-venda para garantir satisfa√ß√£o.</li>
                                </ul>
                            </div>
                        </div>
                         <div class="accordion-item">
                            <button class="accordion-header w-full text-left font-semibold p-3 bg-stone-100 rounded-lg flex justify-between items-center hover:bg-stone-200 transition-colors">
                                Plano Di√°rio de Atividades (Metas)
                                <span class="accordion-icon transform rotate-0 transition-transform text-amber-900">‚ñº</span>
                            </button>
                            <div class="accordion-content hidden p-3">
                                <ul class="list-disc list-inside text-stone-600 space-y-1">
                                    <li>Analisar leads qualificados (2-3).</li>
                                    <li>Reuni√µes/apresenta√ß√µes de produto (2-3).</li>
                                    <li>Elaborar propostas personalizadas (2).</li>
                                    <li>Follow-up de propostas (3-4).</li>
                                    <li>Reuni√µes de fechamento (Meta: 2/dia).</li>
                                    <li>P√≥s-venda e reativa√ß√£o (5).</li>
                                    <li>Alinhamento r√°pido com SDR (15 min).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="funil" class="mb-20 scroll-mt-20">
             <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">O Funil de Vendas Interativo</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Esta √© a visualiza√ß√£o das nossas metas semanais. Passe o mouse sobre cada etapa para ver os detalhes e entender as taxas de convers√£o esperadas.</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                <div class="chart-container">
                    <canvas id="salesFunnelChart"></canvas>
                </div>
            </div>
        </section>

        <section id="recursos" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold tracking-tight">Biblioteca de Recursos</h2>
                <p class="mt-2 max-w-2xl mx-auto text-stone-600">Aprofunde seus conhecimentos com v√≠deos e materiais selecionados para o seu desenvolvimento cont√≠nuo.</p>
            </div>
             <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
                <h3 class="text-xl font-bold text-amber-900 mb-4">V√≠deos Recomendados</h3>
                 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <a href="https://www.youtube.com/watch?v=TNcRr1vU_yc" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">O Melhor Treinamento de Vendas do Brasil</p>
                         <p class="text-sm text-stone-500">ANDR√â ORTIZ ENSINA COMO TER SUCESSO EM VENDAS !</p>
                     </a>
                     <a href="https://www.youtube.com/watch?v=18XdUKtjdpQ" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Curso de Vendas Completo - 20 M√≥dulos</p>
                         <p class="text-sm text-stone-500">Brian Tracy</p>
                     </a>
                      <a href="https://www.youtube.com/watch?v=bJHh8cS7wW4" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Aula 1 - SPIN Selling 2025</p>
                         <p class="text-sm text-stone-500">Guilerme Miranda</p>
                     </a>
                      <a href="https://www.youtube.com/watch?v=JYHfGVCKtLE" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Aula 2 - Perguntas de Situa√ß√£o</p>
                         <p class="text-sm text-stone-500">Guilerme Miranda</p>
                     </a>
                      <a href="https://www.youtube.com/watch?v=XQIdFxHuuFc" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Aula 3 - Perguntas de Problema</p>
                         <p class="text-sm text-stone-500">Guilerme Miranda</p>
                     </a>
                    <a href="https://www.youtube.com/watch?v=I0OU1AAul7M" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Aula 4 - Perguntas de Implica√ß√£o</p>
                         <p class="text-sm text-stone-500">Guilerme Miranda</p>
                     </a>
                    <a href="https://www.youtube.com/watch?v=kTkK3FJdJM4" target="_blank" class="block bg-stone-50 p-4 rounded-lg hover:shadow-lg hover:scale-105 transition-all">
                         <p class="font-semibold">Aula 5 - Perguntas de Necessidade de Solu√ß√£o</p>
                         <p class="text-sm text-stone-500">Guilerme Miranda</p>
                     </a>
                 </div>
            </div>
        </section>
        
    </main>

    <footer class="bg-stone-800 text-white">
        <div class="container mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>¬© 2024 Embalagens Conceito. Todos os direitos reservados.</p>
            <div id="admin-login-area" class="mt-4">
                <div class="flex justify-center items-center gap-2">
                    <input type="password" id="admin-password" placeholder="Senha do Admin" class="bg-stone-700 text-white p-1 rounded text-xs">
                    <button id="admin-login-btn" class="bg-amber-800 text-white font-semibold py-1 px-3 rounded-lg hover:bg-amber-900 text-xs">Acessar Admin</button>
                </div>
                <p id="admin-error" class="text-red-400 text-xs mt-1 hidden">Senha incorreta.</p>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ADMIN_PASSWORD = 'conceito2024';
            let isAdmin = false;

            function setupAccordions(containerId) {
                const container = document.getElementById(containerId);
                if(container) {
                    const headers = container.querySelectorAll('.accordion-header');
                    headers.forEach(header => {
                        header.addEventListener('click', () => {
                            const content = header.nextElementSibling;
                            const icon = header.querySelector('.accordion-icon');
                            content.classList.toggle('hidden');
                            icon.classList.toggle('rotate-180');
                        });
                    });
                }
            }
            
            setupAccordions('sdr-tasks-accordion');
            setupAccordions('vendedor-tasks-accordion');
            
            function setupTabs(containerSelector, buttonSelector, contentSelector) {
                 const tabsContainer = document.querySelector(containerSelector);
                if (tabsContainer) {
                    const tabButtons = tabsContainer.querySelectorAll(buttonSelector);
                    const tabContents = tabsContainer.querySelectorAll(contentSelector);

                    tabButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            const targetId = button.dataset.target;
                            
                            tabButtons.forEach(btn => btn.classList.remove('active'));
                            button.classList.add('active');
                            
                            tabContents.forEach(content => {
                                if (content.id === targetId) {
                                    content.classList.remove('hidden');
                                } else {
                                    content.classList.add('hidden');
                                }
                            });
                        });
                    });
                }
            }

            setupTabs('#registro-diario', '.daily-log-tab', '.daily-log-content');
            setupTabs('#painel-operacional', '.operational-tab', '.operational-content');


            const funnelData = {
                labels: ['Contatos Iniciados', 'Leads com Interesse', 'Leads Qualificados', 'Reuni√µes Agendadas', 'Propostas Enviadas', 'Fechamentos'],
                values: [200, 60, 30, 10, 10, 7], 
                goals: [200, 60, 30, 10, 10, '5-8'],
                conversions: [null, 30, 50, 33.3, 100, 70]
            };

            const ctx = document.getElementById('salesFunnelChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: funnelData.labels,
                    datasets: [{
                        label: 'Meta Semanal',
                        data: funnelData.values,
                        backgroundColor: [
                            'rgba(120, 53, 15, 0.8)','rgba(120, 53, 15, 0.7)','rgba(120, 53, 15, 0.6)',
                            'rgba(120, 53, 15, 0.5)','rgba(120, 53, 15, 0.4)','rgba(120, 53, 15, 0.3)'
                        ],
                        borderColor: 'rgba(120, 53, 15, 1)',
                        borderWidth: 1,
                        barPercentage: 1.0,
                        categoryPercentage: 0.9,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: { beginAtZero: true, grid: { display: false }, ticks: { display: true } },
                        y: { grid: { display: false }, ticks: { font: { size: 14, weight: '500' } } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const index = context.dataIndex;
                                    const goal = funnelData.goals[index];
                                    const conversion = funnelData.conversions[index];
                                    let label = `Meta: ${goal}`;
                                    if(conversion !== null) {
                                       label += ` | Convers√£o: ${conversion.toFixed(1)}%`;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // Admin Logic
            const adminLoginBtn = document.getElementById('admin-login-btn');
            const adminPasswordInput = document.getElementById('admin-password');
            const adminError = document.getElementById('admin-error');

            const enableAdminMode = () => {
                isAdmin = true;
                document.querySelectorAll('.admin-only').forEach(el => el.style.display = 'revert');
                document.getElementById('admin-login-area').innerHTML = '<p class="text-green-400 text-xs">Modo Administrador Ativado.</p>';
                renderSdrLog();
                renderVendedorLog();
                renderCompetitors();
                renderDeals(); // Re-render deals to show admin buttons
            };
            
            adminLoginBtn.addEventListener('click', () => {
                if (adminPasswordInput.value === ADMIN_PASSWORD) {
                    enableAdminMode();
                } else {
                    adminError.classList.remove('hidden');
                    setTimeout(() => adminError.classList.add('hidden'), 2000);
                }
            });

            adminPasswordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') adminLoginBtn.click();
            });

            // Daily Log Logic
            let sdrLog = JSON.parse(localStorage.getItem('sdrDailyLog')) || [];
            let vendedorLog = JSON.parse(localStorage.getItem('vendedorDailyLog')) || [];
            
            const sdrLogTableBody = document.getElementById('sdr-log-table-body');
            const vendedorLogTableBody = document.getElementById('vendedor-log-table-body');

            const renderSdrLog = () => {
                sdrLogTableBody.innerHTML = '';
                sdrLog.forEach((entry, index) => {
                    const row = sdrLogTableBody.insertRow();
                    row.className = 'border-b';
                    row.innerHTML = `
                        <td class="py-2 px-4">${new Date(entry.date).toLocaleDateString('pt-BR')}</td>
                        <td class="py-2 px-4">${entry.prospeccoes}</td>
                        <td class="py-2 px-4">${entry.nutricoes}</td>
                        <td class="py-2 px-4">${entry.resumo}</td>
                        <td class="py-2 px-4 admin-only">
                            <button data-index="${index}" class="delete-sdr-log-btn text-red-500 hover:text-red-700">Excluir</button>
                        </td>
                    `;
                });
                if (isAdmin) {
                    document.querySelectorAll('.delete-sdr-log-btn').forEach(btn => btn.parentElement.style.display = 'revert');
                }
            };

            const renderVendedorLog = () => {
                vendedorLogTableBody.innerHTML = '';
                vendedorLog.forEach((entry, index) => {
                    const row = vendedorLogTableBody.insertRow();
                    row.className = 'border-b';
                    row.innerHTML = `
                        <td class="py-2 px-4">${new Date(entry.date).toLocaleDateString('pt-BR')}</td>
                        <td class="py-2 px-4">${entry.vendas}</td>
                        <td class="py-2 px-4">${entry.conversoes}</td>
                        <td class="py-2 px-4">${entry.reativacoes}</td>
                        <td class="py-2 px-4">${entry.notas}</td>
                        <td class="py-2 px-4 admin-only">
                             <button data-index="${index}" class="delete-vendedor-log-btn text-red-500 hover:text-red-700">Excluir</button>
                        </td>
                    `;
                });
                 if (isAdmin) {
                    document.querySelectorAll('.delete-vendedor-log-btn').forEach(btn => btn.parentElement.style.display = 'revert');
                }
            };

            document.getElementById('add-sdr-log-btn').addEventListener('click', () => {
                const prospeccoes = document.getElementById('sdr-prospeccoes').value;
                const nutricoes = document.getElementById('sdr-nutricoes').value;
                const resumo = document.getElementById('sdr-resumo').value;

                if (!prospeccoes && !nutricoes && !resumo) {
                    alert('Preencha pelo menos um campo para registrar.');
                    return;
                }

                sdrLog.unshift({ date: new Date().toISOString(), prospeccoes: prospeccoes || 0, nutricoes: nutricoes || 0, resumo: resumo || 'N/A' });
                localStorage.setItem('sdrDailyLog', JSON.stringify(sdrLog));
                renderSdrLog();
                document.getElementById('sdr-prospeccoes').value = '';
                document.getElementById('sdr-nutricoes').value = '';
                document.getElementById('sdr-resumo').value = '';
            });
            
            document.getElementById('add-vendedor-log-btn').addEventListener('click', () => {
                const vendas = document.getElementById('vendedor-vendas').value;
                const conversoes = document.getElementById('vendedor-conversoes').value;
                const reativacoes = document.getElementById('vendedor-reativacoes').value;
                const notas = document.getElementById('vendedor-notas').value;

                if (!vendas && !conversoes && !reativacoes && !notas) {
                    alert('Preencha pelo menos um campo para registrar.');
                    return;
                }

                vendedorLog.unshift({ date: new Date().toISOString(), vendas: vendas || 0, conversoes: conversoes || 0, reativacoes: reativacoes || 0, notas: notas || 'N/A' });
                localStorage.setItem('vendedorDailyLog', JSON.stringify(vendedorLog));
                renderVendedorLog();
                document.getElementById('vendedor-vendas').value = '';
                document.getElementById('vendedor-conversoes').value = '';
                document.getElementById('vendedor-reativacoes').value = '';
                document.getElementById('vendedor-notas').value = '';
            });

            sdrLogTableBody.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-sdr-log-btn')) {
                    const index = e.target.dataset.index;
                    if(confirm('Tem certeza que deseja excluir este registro?')) {
                        sdrLog.splice(index, 1);
                        localStorage.setItem('sdrDailyLog', JSON.stringify(sdrLog));
                        renderSdrLog();
                    }
                }
            });

            vendedorLogTableBody.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-vendedor-log-btn')) {
                    const index = e.target.dataset.index;
                     if(confirm('Tem certeza que deseja excluir este registro?')) {
                        vendedorLog.splice(index, 1);
                        localStorage.setItem('vendedorDailyLog', JSON.stringify(vendedorLog));
                        renderVendedorLog();
                    }
                }
            });

            document.getElementById('clear-sdr-log-btn').addEventListener('click', () => {
                if(confirm('ATEN√á√ÉO: Isso apagar√° TODO o hist√≥rico do SDR. Deseja continuar?')) {
                    sdrLog = [];
                    localStorage.removeItem('sdrDailyLog');
                    renderSdrLog();
                }
            });

            document.getElementById('clear-vendedor-log-btn').addEventListener('click', () => {
                if(confirm('ATEN√á√ÉO: Isso apagar√° TODO o hist√≥rico do Vendedor. Deseja continuar?')) {
                    vendedorLog = [];
                    localStorage.removeItem('vendedorDailyLog');
                    renderVendedorLog();
                }
            });

            // Operational Panel Logic
            // SDR Task List
            const taskInput = document.getElementById('new-task-input');
            const addTaskBtn = document.getElementById('add-task-btn');
            const taskListEl = document.getElementById('task-list');
            let tasks = JSON.parse(localStorage.getItem('sdrDailyTasks')) || [];

            const renderTasks = () => {
                taskListEl.innerHTML = '';
                tasks.forEach((task, index) => {
                    const taskEl = document.createElement('div');
                    taskEl.className = `task-item flex items-center justify-between p-2 rounded-lg bg-stone-100 ${task.completed ? 'completed' : ''}`;
                    taskEl.innerHTML = `
                        <span>${task.text}</span>
                        <div class="flex items-center gap-2">
                            <button data-index="${index}" class="toggle-task-btn text-green-600">‚úì</button>
                            <button data-index="${index}" class="delete-task-btn text-red-600">‚úó</button>
                        </div>
                    `;
                    taskListEl.appendChild(taskEl);
                });
            };

            addTaskBtn.addEventListener('click', () => {
                const taskText = taskInput.value.trim();
                if (taskText) {
                    tasks.unshift({ text: taskText, completed: false });
                    taskInput.value = '';
                    localStorage.setItem('sdrDailyTasks', JSON.stringify(tasks));
                    renderTasks();
                }
            });
            
            taskInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addTaskBtn.click();
            });

            taskListEl.addEventListener('click', (e) => {
                const index = e.target.dataset.index;
                if (e.target.classList.contains('toggle-task-btn')) {
                    tasks[index].completed = !tasks[index].completed;
                }
                if (e.target.classList.contains('delete-task-btn')) {
                    tasks.splice(index, 1);
                }
                localStorage.setItem('sdrDailyTasks', JSON.stringify(tasks));
                renderTasks();
            });

            // Vendedor Pipeline
            const dealInput = document.getElementById('new-deal-input');
            const addDealBtn = document.getElementById('add-deal-btn');
            const pipelineContainer = document.getElementById('vendedor-pipeline-tool');
            let deals = JSON.parse(localStorage.getItem('salesPipelineDeals')) || [];

            const renderDeals = () => {
                document.querySelectorAll('.pipeline-list').forEach(list => {
                    const title = list.querySelector('h4').outerHTML;
                    list.innerHTML = title;
                });
                deals.forEach((deal, index) => {
                    const dealEl = document.createElement('div');
                    dealEl.className = 'p-2 bg-white rounded shadow text-sm cursor-grab';
                    dealEl.setAttribute('draggable', true);
                    dealEl.dataset.index = index;

                    dealEl.innerHTML = `
                        <div class="flex justify-between items-center">
                            <p class="font-semibold flex-grow">${deal.text}</p>
                            <div class="admin-only flex-shrink-0 ml-2 space-x-1">
                                <button data-index="${index}" class="edit-deal-btn text-blue-600 hover:text-blue-800 p-1 text-xs">‚úèÔ∏è</button>
                                <button data-index="${index}" class="delete-deal-btn text-red-600 hover:text-red-800 p-1 text-xs">üóëÔ∏è</button>
                            </div>
                        </div>
                    `;
                    document.querySelector(`.pipeline-list[data-stage="${deal.stage}"]`).appendChild(dealEl);
                });
                 addDragAndDropHandlers();
                 if (isAdmin) {
                    document.querySelectorAll('.admin-only').forEach(el => el.style.display = 'revert');
                 }
            };

            const addDragAndDropHandlers = () => {
                const dealElements = document.querySelectorAll('.pipeline-list > div[draggable="true"]');
                const pipelineLists = document.querySelectorAll('.pipeline-list');

                dealElements.forEach(dealEl => {
                    dealEl.addEventListener('dragstart', (e) => {
                        if (e.target.closest('.edit-deal-btn') || e.target.closest('.delete-deal-btn')) {
                            e.preventDefault();
                            return;
                        }
                        e.dataTransfer.setData('text/plain', e.target.dataset.index);
                        setTimeout(() => {
                           e.target.classList.add('opacity-50');
                        }, 0);
                    });

                    dealEl.addEventListener('dragend', (e) => {
                        e.target.classList.remove('opacity-50');
                    });
                });

                pipelineLists.forEach(list => {
                    list.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        list.classList.add('drag-over');
                    });
                    
                    list.addEventListener('dragleave', () => {
                        list.classList.remove('drag-over');
                    });

                    list.addEventListener('drop', (e) => {
                        e.preventDefault();
                        list.classList.remove('drag-over');
                        const dealIndex = e.dataTransfer.getData('text/plain');
                        const targetList = e.currentTarget;
                        
                        if (dealIndex && targetList.classList.contains('pipeline-list')) {
                           const newStage = targetList.dataset.stage;
                           deals[dealIndex].stage = newStage;
                           localStorage.setItem('salesPipelineDeals', JSON.stringify(deals));
                           renderDeals();
                        }
                    });
                });
            };
            
            addDealBtn.addEventListener('click', () => {
                const dealText = dealInput.value.trim();
                if(dealText) {
                    deals.unshift({ text: dealText, stage: 'qualificado' });
                    dealInput.value = '';
                    localStorage.setItem('salesPipelineDeals', JSON.stringify(deals));
                    renderDeals();
                }
            });

            dealInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addDealBtn.click();
            });

            pipelineContainer.addEventListener('click', (e) => {
                const editBtn = e.target.closest('.edit-deal-btn');
                if (editBtn) {
                    const index = editBtn.dataset.index;
                    const currentText = deals[index].text;
                    const newText = prompt('Editar nome do cliente/lead:', currentText);
                    if (newText && newText.trim() !== '') {
                        deals[index].text = newText.trim();
                        localStorage.setItem('salesPipelineDeals', JSON.stringify(deals));
                        renderDeals();
                    }
                }

                const deleteBtn = e.target.closest('.delete-deal-btn');
                if (deleteBtn) {
                    const index = deleteBtn.dataset.index;
                    if (confirm(`Tem certeza que deseja excluir "${deals[index].text}"?`)) {
                        deals.splice(index, 1);
                        localStorage.setItem('salesPipelineDeals', JSON.stringify(deals));
                        renderDeals();
                    }
                }
            });
            
            // Sales Calculator
            const calcPreco = document.getElementById('calc-preco');
            const calcDesconto = document.getElementById('calc-desconto');
            const calcFinal = document.getElementById('calc-final');

            function updateCalculator() {
                const preco = parseFloat(calcPreco.value) || 0;
                const desconto = parseFloat(calcDesconto.value) || 0;
                const precoFinal = preco - (preco * (desconto / 100));
                calcFinal.textContent = `R$ ${precoFinal.toFixed(2).replace('.',',')}`;
            }

            calcPreco.addEventListener('input', updateCalculator);
            calcDesconto.addEventListener('input', updateCalculator);
            
             // Campaign & Goals Logic
            const campaignDisplay = document.getElementById('campaign-display');
            const goalsDisplay = document.getElementById('goals-display');
            const defaultCampaign = { title: 'Nenhuma campanha ativa no momento.', duration: '', strategy: 'O gestor definir√° a pr√≥xima campanha em breve.' };
            const defaultGoals = { vendas: 0, leads: 0, reativacoes: 0, custom: 'N/A' };
            let campaignData = JSON.parse(localStorage.getItem('salesCampaign')) || defaultCampaign;
            let goalsData = JSON.parse(localStorage.getItem('teamGoals')) || defaultGoals;

            const renderCampaign = () => {
                campaignDisplay.innerHTML = `
                    <h4 class="font-bold text-lg">${campaignData.title}</h4>
                    <p class="text-sm font-medium text-stone-500 mb-2">${campaignData.duration}</p>
                    <p class="text-stone-700 whitespace-pre-wrap">${campaignData.strategy}</p>
                `;
            };

            const renderGoals = () => {
                goalsDisplay.innerHTML = `
                    <div class="bg-stone-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-stone-600">Vendas (R$)</p>
                        <p class="text-2xl font-bold">${new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(goalsData.vendas)}</p>
                    </div>
                     <div class="bg-stone-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-stone-600">Leads Qualificados</p>
                        <p class="text-2xl font-bold">${goalsData.leads}</p>
                    </div>
                     <div class="bg-stone-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-stone-600">Reativa√ß√µes</p>
                        <p class="text-2xl font-bold">${goalsData.reativacoes}</p>
                    </div>
                     <div class="bg-stone-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-stone-600">Foco Adicional</p>
                        <p class="text-xl font-bold">${goalsData.custom}</p>
                    </div>
                `;
            };

            document.getElementById('save-campaign-btn').addEventListener('click', () => {
                campaignData = {
                    title: document.getElementById('campaign-title').value || 'Nenhuma campanha ativa',
                    duration: document.getElementById('campaign-duration').value || '',
                    strategy: document.getElementById('campaign-strategy').value || 'Foco nas atividades di√°rias.'
                };
                localStorage.setItem('salesCampaign', JSON.stringify(campaignData));
                renderCampaign();
                document.getElementById('campaign-title').value = '';
                document.getElementById('campaign-duration').value = '';
                document.getElementById('campaign-strategy').value = '';
                alert('Campanha salva com sucesso!');
            });
            
            document.getElementById('edit-campaign-btn').addEventListener('click', () => {
                document.getElementById('campaign-title').value = campaignData.title;
                document.getElementById('campaign-duration').value = campaignData.duration;
                document.getElementById('campaign-strategy').value = campaignData.strategy;
                alert('Dados da campanha atual carregados para edi√ß√£o.');
            });

            document.getElementById('delete-campaign-btn').addEventListener('click', () => {
                if (confirm('Tem certeza que deseja excluir a campanha atual?')) {
                    campaignData = defaultCampaign;
                    localStorage.setItem('salesCampaign', JSON.stringify(campaignData));
                    renderCampaign();
                    document.getElementById('campaign-title').value = '';
                    document.getElementById('campaign-duration').value = '';
                    document.getElementById('campaign-strategy').value = '';
                    alert('Campanha exclu√≠da.');
                }
            });

            document.getElementById('save-goals-btn').addEventListener('click', () => {
                goalsData = {
                    vendas: parseFloat(document.getElementById('goal-vendas').value) || 0,
                    leads: parseInt(document.getElementById('goal-leads').value) || 0,
                    reativacoes: parseInt(document.getElementById('goal-reativacoes').value) || 0,
                    custom: document.getElementById('goal-custom').value || 'N/A'
                };
                localStorage.setItem('teamGoals', JSON.stringify(goalsData));
                renderGoals();
                alert('Metas salvas com sucesso!');
            });
            
            document.getElementById('edit-goals-btn').addEventListener('click', () => {
                 document.getElementById('goal-vendas').value = goalsData.vendas;
                 document.getElementById('goal-leads').value = goalsData.leads;
                 document.getElementById('goal-reativacoes').value = goalsData.reativacoes;
                 document.getElementById('goal-custom').value = goalsData.custom;
                 alert('Metas atuais carregadas para edi√ß√£o.');
            });
            
            document.getElementById('delete-goals-btn').addEventListener('click', () => {
                 if (confirm('Tem certeza que deseja excluir as metas atuais?')) {
                    goalsData = defaultGoals;
                    localStorage.setItem('teamGoals', JSON.stringify(goalsData));
                    renderGoals();
                    document.getElementById('goal-vendas').value = '';
                    document.getElementById('goal-leads').value = '';
                    document.getElementById('goal-reativacoes').value = '';
                    document.getElementById('goal-custom').value = '';
                    alert('Metas exclu√≠das.');
                }
            });

             // Competitor Logic
            let competitors = JSON.parse(localStorage.getItem('competitorLog')) || [];
            const competitorTableBody = document.getElementById('competitor-table-body');

            const renderCompetitors = () => {
                competitorTableBody.innerHTML = '';
                competitors.forEach((comp, index) => {
                    const row = competitorTableBody.insertRow();
                    row.className = 'border-b';
                    row.innerHTML = `
                        <td class="py-2 px-4">${comp.name}</td>
                        <td class="py-2 px-4">${comp.strength}</td>
                        <td class="py-2 px-4">${comp.weakness}</td>
                        <td class="py-2 px-4">${comp.notes}</td>
                        <td class="py-2 px-4 admin-only">
                            <button data-index="${index}" class="delete-competitor-btn text-red-500 hover:text-red-700">Excluir</button>
                        </td>
                    `;
                });
                if (isAdmin) {
                    document.querySelectorAll('.delete-competitor-btn').forEach(btn => btn.parentElement.style.display = 'revert');
                }
            };

            document.getElementById('add-competitor-btn').addEventListener('click', () => {
                const name = document.getElementById('competitor-name').value;
                const strength = document.getElementById('competitor-strength').value;
                const weakness = document.getElementById('competitor-weakness').value;
                const notes = document.getElementById('competitor-notes').value;

                if (!name) {
                    alert('O nome do concorrente √© obrigat√≥rio.');
                    return;
                }
                competitors.unshift({ name, strength, weakness, notes });
                localStorage.setItem('competitorLog', JSON.stringify(competitors));
                renderCompetitors();
                document.getElementById('competitor-name').value = '';
                document.getElementById('competitor-strength').value = '';
                document.getElementById('competitor-weakness').value = '';
                document.getElementById('competitor-notes').value = '';
            });

            competitorTableBody.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-competitor-btn')) {
                    const index = e.target.dataset.index;
                    if (confirm('Tem certeza que deseja excluir este registro de concorrente?')) {
                        competitors.splice(index, 1);
                        localStorage.setItem('competitorLog', JSON.stringify(competitors));
                        renderCompetitors();
                    }
                }
            });
            
            document.getElementById('clear-competitor-log-btn').addEventListener('click', () => {
                if(confirm('ATEN√á√ÉO: Isso apagar√° TODO o hist√≥rico de concorrentes. Deseja continuar?')) {
                    competitors = [];
                    localStorage.removeItem('competitorLog');
                    renderCompetitors();
                }
            });

            
            // Initial render
            renderSdrLog();
            renderVendedorLog();
            renderTasks();
            renderDeals();
            renderCampaign();
            renderGoals();
            renderCompetitors();
        });
    </script>
</body>
</html>
