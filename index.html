<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma de Vendas e GestÃ£o - Embalagens Conceito</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#78350f', // amber-900
            accent: '#f59e0b'  // amber-500
          }
        }
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .chart-container { position: relative; width: 100%; max-width: 700px; margin: auto; height: 350px; }
    @media (min-width: 768px) { .chart-container { height: 450px; } }
    .admin-only { display: none; }
    .task-item.completed { text-decoration: line-through; opacity: 0.6; }
    .pipeline-list.drag-over { background-color: #fef3c7; border: 2px dashed #f59e0b; }
    .tab-button.active, .role-view-btn.active {
      border-color: #78350f;
      color: #78350f;
      font-weight: 600;
      background-color: #fefce8;
    }
    /* Novos estilos Produtividade & GamificaÃ§Ã£o */
    .prod-role-tab { @apply text-stone-700 hover:text-primary transition border-b-2; }
    .prod-role-tab.active { @apply border-primary text-primary font-semibold; }
    .sdr-sub-tab, .vend-sub-tab { @apply px-4 py-2 rounded-md transition; }
    .sdr-sub-tab.active, .vend-sub-tab.active { @apply bg-primary text-white; }
  </style>
</head>
<body class="bg-stone-100 text-stone-800">

  <!-- HEADER -->
  <header class="bg-white/80 backdrop-blur sticky top-0 z-50 shadow">
    <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
      <h1 class="text-2xl font-bold text-primary">Embalagens Conceito</h1>
      <nav class="hidden md:flex space-x-6">
        <a href="#campanhas" class="text-stone-600 hover:text-primary transition">Campanhas</a>
        <a href="#processo-comercial" class="text-stone-600 hover:text-primary transition">Processo</a>
        <a href="#registro-diario" class="text-stone-600 hover:text-primary transition">Registros</a>
        <a href="#painel-operacional" class="text-stone-600 hover:text-primary transition">Operacional</a>
        <a href="#funcoes" class="text-stone-600 hover:text-primary transition">FunÃ§Ãµes</a>
        <a href="#recursos" class="text-stone-600 hover:text-primary transition">Recursos</a>
        <a href="#produtividade" class="text-stone-600 hover:text-primary transition">Produtividade</a>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="max-w-7xl mx-auto p-4 sm:p-6 space-y-16">

    <!-- MISSÃƒO -->
    <section id="missao" class="text-center space-y-4">
      <h2 class="text-4xl font-bold text-primary">Plataforma de Vendas e GestÃ£o</h2>
      <p class="text-lg text-stone-600 max-w-3xl mx-auto">Sua ferramenta diÃ¡ria para registro de atividades, acompanhamento de metas e consulta de materiais na Embalagens Conceito.</p>
    </section>

    <!-- VISÃƒO -->
    <div class="bg-white p-3 rounded-2xl shadow text-center">
      <p class="text-sm font-semibold mb-2 text-primary">Selecione sua VisÃ£o:</p>
      <div class="inline-flex border border-stone-200 rounded-lg p-1">
        <button class="role-view-btn px-4 py-2 text-sm rounded-md" data-role-view="sdr">VisÃ£o SDR</button>
        <button class="role-view-btn px-4 py-2 text-sm rounded-md" data-role-view="vendedor">VisÃ£o Vendedor</button>
        <button class="role-view-btn active px-4 py-2 text-sm rounded-md" data-role-view="all">VisÃ£o Completa</button>
      </div>
    </div>

    <!-- SEÃ‡Ã•ES EXISTENTES: campanhas, processo-comercial, registro-diario, painel-operacional, funcoes, recursos -->
    <!-- [... INSIRA AQUI TODO O CÃ“DIGO HTML QUE VOCÃŠ JÃ TINHA PARA ESSAS SEÃ‡Ã•ES ...] -->

    <!-- PRODUTIVIDADE & GAMIFICAÃ‡ÃƒO -->
    <section id="produtividade" class="space-y-6 scroll-mt-20" data-role="all">
      <div class="text-center mb-8">
        <h3 class="text-3xl sm:text-4xl font-semibold text-primary">Produtividade & AutomaÃ§Ã£o<br>GamificaÃ§Ã£o & MotivaÃ§Ã£o</h3>
        <p class="text-stone-600 max-w-2xl mx-auto">Acesso rÃ¡pido a templates, recursos e ranking, separados por papel.</p>
      </div>
      <!-- Tabs de papel -->
      <div class="flex justify-center space-x-8 mb-6">
        <button class="prod-role-tab active" data-role="sdr">SDR</button>
        <button class="prod-role-tab" data-role="vendedor">Vendedor</button>
      </div>
      <!-- ConteÃºdo SDR -->
      <div id="bloc-sdr" class="prod-role-content">
        <div class="flex justify-center space-x-4 mb-4">
          <button class="sdr-sub-tab active" data-target="sdr-templates">Templates</button>
          <button class="sdr-sub-tab" data-target="sdr-recursos">Recursos</button>
          <button class="sdr-sub-tab" data-target="sdr-gamificacao">GamificaÃ§Ã£o</button>
        </div>
        <div id="sdr-templates" class="space-y-4"></div>
        <div id="sdr-recursos" class="space-y-4 hidden"></div>
        <div id="sdr-gamificacao" class="space-y-4 hidden"></div>
      </div>
      <!-- ConteÃºdo Vendedor -->
      <div id="bloc-vendedor" class="prod-role-content hidden">
        <div class="flex justify-center space-x-4 mb-4">
          <button class="vend-sub-tab active" data-target="vend-templates">Templates</button>
          <button class="vend-sub-tab" data-target="vend-recursos">Recursos</button>
          <button class="vend-sub-tab" data-target="vend-gamificacao">GamificaÃ§Ã£o</button>
        </div>
        <div id="vend-templates" class="space-y-4"></div>
        <div id="vend-recursos" class="space-y-4 hidden"></div>
        <div id="vend-gamificacao" class="space-y-4 hidden"></div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-stone-800 text-white py-4 text-center">
    <p>Â© 2025 Embalagens Conceito. Todos os direitos reservados.</p>
    <div id="admin-login-area" class="mt-2">
      <input id="admin-password" type="password" placeholder="Senha Admin" class="bg-stone-700 p-1 rounded text-xs text-center" />
      <button id="admin-login-btn" class="bg-accent text-primary font-bold py-1 px-2 rounded text-xs ml-1">Entrar</button>
      <p id="admin-error" class="text-red-400 text-xs hidden mt-1">Senha incorreta.</p>
    </div>
  </footer>

  <!-- SCRIPT ÃšNICO -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // AQUI COMEÃ‡A TODO O JS ORIGINAL (admin, logs, tasks, pipeline, calculadora, campanhas etc.)
      // (cole exatamente o que vocÃª jÃ¡ tinha, sem duplicar <script> nem mover nada)
      renderSdrLog();
      renderVendedorLog();
      renderTasks();
      renderDeals();
      renderCampaign();
      renderGoals();
      renderCompetitors();
      renderSdrPlan();
      renderVendedorPlan();
      renderCustomFunnel();
      renderProcess();

      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // PRODUTIVIDADE & GAMIFICAÃ‡ÃƒO

      // 1) Seed defaults (executa sÃ³ na primeira vez)
      if (!localStorage.getItem('salesTemplates')) {
        localStorage.setItem('salesTemplates', JSON.stringify([
          { role:'sdr',      stage:'ProspecÃ§Ã£o',  type:'email',    title:'Email de ProspecÃ§Ã£o',     content:'OlÃ¡ {{nome}}, gostarÃ­amos de apresentar...'},
          { role:'sdr',      stage:'QualificaÃ§Ã£o', type:'whatsapp', title:'WhatsApp de QualificaÃ§Ã£o', content:'Oi {{nome}}, tudo bem? Segue catÃ¡logo...'},
          { role:'vendedor', stage:'Proposta',     type:'proposta', title:'Proposta PadrÃ£o',         content:'Prezado {{nome}}, segue nossa proposta...'}
        ]));
        localStorage.setItem('resourcesSdr', JSON.stringify([
          { title:'ObjeÃ§Ãµes Comuns' },
          { title:'Scripts de LigaÃ§Ã£o' },
          { title:'Ficha de QualificaÃ§Ã£o de Lead' }
        ]));
        localStorage.setItem('resourcesVend', JSON.stringify([
          { title:'SPIN Selling' },
          { title:'NegociaÃ§Ã£o AvanÃ§ada' },
          { title:'AnÃ¡lise de Perfil de Comprador' }
        ]));
        localStorage.setItem('salesBadges', JSON.stringify([
          { name:'Top Prospector',    icon:'ðŸ”', role:'sdr' },
          { name:'Fechador MVP',      icon:'ðŸ†', role:'vendedor' },
          { name:'Guru de Templates', icon:'ðŸ“š', role:'sdr' }
        ]));
        localStorage.setItem('salesUsers', JSON.stringify([
          { name:'Alice SDR',      points:200, role:'sdr' },
          { name:'Bruno Vendedor', points:150, role:'vendedor' },
          { name:'Carla SDR',      points:120, role:'sdr' }
        ]));
      }

      // 2) Carrega coleÃ§Ãµes
      const templates     = JSON.parse(localStorage.getItem('salesTemplates'));
      const resourcesSdr  = JSON.parse(localStorage.getItem('resourcesSdr'));
      const resourcesVend = JSON.parse(localStorage.getItem('resourcesVend'));
      const badges        = JSON.parse(localStorage.getItem('salesBadges'));
      const users         = JSON.parse(localStorage.getItem('salesUsers'));

      // 3) FunÃ§Ãµes de render
      function renderTemplates(role) {
        const cont = document.getElementById(`${role}-templates`);
        cont.innerHTML = templates
          .filter(t => t.role === role)
          .map(t => `
            <div class="bg-white p-4 rounded-lg shadow hover:shadow-lg transition">
              <h4 class="font-bold text-primary">${t.title}</h4>
              <p class="text-stone-700 mt-2">${t.content}</p>
              <p class="mt-1 text-xs text-stone-500">${t.type} â€¢ ${t.stage}</p>
            </div>
          `).join('');
      }

      function renderResources(role) {
        const arr = role === 'sdr' ? resourcesSdr : resourcesVend;
        const cont = document.getElementById(`${role}-recursos`);
        cont.innerHTML = arr.map(r => `
          <div class="bg-white p-3 rounded-lg shadow flex items-center gap-3 hover:bg-stone-50 transition">
            <svg class="w-6 h-6 text-accent"><use href="#icon-doc"/></svg>
            <span class="font-medium">${r.title}</span>
          </div>
        `).join('');
      }

      function renderGamificacao(role) {
        const cont = document.getElementById(`${role}-gamificacao`);
        // badges
        const badHTML = badges.filter(b => b.role === role)
          .map(b => `
            <div class="bg-accent/20 p-2 rounded-md flex items-center gap-2">
              <span class="text-xl">${b.icon}</span><span>${b.name}</span>
            </div>
          `).join('');
        // ranking
        const rank = users
          .filter(u => u.role === role)
          .sort((a,b) => b.points - a.points)
          .map(u => `<li>${u.name} â€” ${u.points} pts</li>`).join('');
        cont.innerHTML = `
          <div class="flex flex-wrap gap-4">${badHTML}</div>
          <div class="mt-6 bg-white p-4 rounded-lg shadow">
            <h5 class="font-semibold text-primary mb-2">Ranking ${role.toUpperCase()}</h5>
            <ol class="list-decimal list-inside space-y-1">${rank}</ol>
          </div>
        `;
      }

      // 4) Render em ambos papÃ©is
      ['sdr','vendedor'].forEach(r => {
        renderTemplates(r);
        renderResources(r);
        renderGamificacao(r);
      });

      // 5) Tabs de papel
      document.querySelectorAll('.prod-role-tab').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.prod-role-tab').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('.prod-role-content').forEach(c => c.classList.add('hidden'));
          document.getElementById('bloc-' + btn.dataset.role).classList.remove('hidden');
        });
      });

      // 6) Sub-tabs SDR
      document.querySelectorAll('.sdr-sub-tab').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.sdr-sub-tab').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('#bloc-sdr > div[id^="sdr-"]').forEach(c => c.classList.add('hidden'));
          document.getElementById(btn.dataset.target).classList.remove('hidden');
        });
      });

      // 7) Sub-tabs Vendedor
      document.querySelectorAll('.vend-sub-tab').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.vend-sub-tab').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('#bloc-vendedor > div[id^="vend-"]').forEach(c => c.classList.add('hidden'));
          document.getElementById(btn.dataset.target).classList.remove('hidden');
        });
      });

      // 8) SVG genÃ©rico (documentos)
      if (!document.getElementById('icon-doc')) {
        const svgNS = "http://www.w3.org/2000/svg";
        const svg = document.createElementNS(svgNS, 'svg');
        svg.style.display = 'none';
        svg.innerHTML = `
          <symbol id="icon-doc" viewBox="0 0 24 24">
            <path fill="currentColor" d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1-2-2z"/>
          </symbol>`;
        document.body.appendChild(svg);
      }

      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // FIM PRODUTIVIDADE & GAMIFICAÃ‡ÃƒO
    });
  </script>

</body>
</html>
